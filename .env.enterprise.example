# ============================================================
# FinPilote Enterprise On-Premise — Environment Variables
# ============================================================
# Copy this file to .env and fill in the values.
# The install script generates most of these automatically.
# ============================================================

# ── PostgreSQL ─────────────────────────────────────────────
POSTGRES_DB=finpilote
POSTGRES_USER=finpilote
DB_PASSWORD=                     # Auto-generated (min 32 chars)
POSTGRES_PORT=5432

# ── JWT / Auth ─────────────────────────────────────────────
JWT_SECRET=                      # Auto-generated (64 hex chars)
JWT_EXPIRY=3600                  # Token expiry in seconds (1 hour)
ANON_KEY=                        # Auto-generated JWT (anon role)
SERVICE_ROLE_KEY=                # Auto-generated JWT (service role)

# ── Supabase (self-hosted) ─────────────────────────────────
NEXT_PUBLIC_SUPABASE_URL=http://localhost:8000
NEXT_PUBLIC_SUPABASE_ANON_KEY=   # Same as ANON_KEY above

# ── Application ────────────────────────────────────────────
APP_PORT=3000
SITE_URL=http://localhost:3000
API_EXTERNAL_URL=http://localhost:8000
KONG_PORT=8000

# ── Auth Settings ──────────────────────────────────────────
DISABLE_SIGNUP=false             # Set to true to disable self-registration
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true   # Auto-confirm emails (no SMTP needed)

# ── Local AI (Ollama) ─────────────────────────────────────
OLLAMA_HOST=http://ollama:11434
OLLAMA_MODEL=mistral:7b-instruct-q5_K_M
OLLAMA_PORT=11434

# ── Email (SMTP for on-premise) ───────────────────────────
# Configure these for email sending in on-premise mode.
# If left empty, email features will be disabled.
SMTP_HOST=                       # e.g. smtp.company.local
SMTP_PORT=587
SMTP_SECURE=false                # true for port 465
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@finpilote.local
SMTP_ADMIN_EMAIL=admin@finpilote.local

# ── Security ──────────────────────────────────────────────
ENCRYPTION_KEY=                  # Auto-generated (64 hex chars)
CRON_SECRET=                     # Auto-generated secret for cron auth

# ── Optional: Cloud Fallbacks (leave empty for full on-premise) ──
# RESEND_API_KEY=               # Resend cloud email (overrides SMTP)
# ANTHROPIC_API_KEY=            # Anthropic Claude API (overrides Ollama)
# RESEND_FROM_EMAIL=            # Resend sender email
